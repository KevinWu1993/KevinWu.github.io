<!DOCTYPE html>
<html lang="zh-CN">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="description" content="KevinWu的个人博客">
  <meta name="keyword" content="undefined">
  
    <link rel="icon" href="">
  
    
  <title>KevinWu.CN</title>
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.20/jquery.fancybox.min.css" />
</head>

<body>
  <header>
  <div class="header-container">
    <a class='logo' href="/">
      <span>KevinWu.CN</span>
    </a>
    <ul class="right-header">
      
        <li class="nav-item">
          
            <a href="/" class="item-link active">首页</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/about" class="item-link">关于</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/archives" class="item-link">归档</a>
          
        </li>
      
        <li class="nav-item">
          
            <a href="/tags" class="item-link">标签</a>
          
        </li>
      
    </ul>
  </div>
</header>

  <main id='index'>
  <div class="posts-list">
    
      <section>
        <a href="/2018/01/04/Android/201801/05_android_getbrightness/">
          <h3 class='post-head'>
            自动亮度调节开启时获取亮度值的坑
          </h3>
        </a>
        
        <div class="post-content">
          
            <h2 id="现象描述"><a href="#现象描述" class="headerlink" title="现象描述"></a>现象描述</h2><p>背景：当开启夜间模式遮罩时，在BaseActivity中注册观察者<code>ContentObserver</code>来检测屏幕亮度的变化，从而灵活调整夜间模式中遮罩层的透明度。</p>
<p>基于以上背景，当打开手机中的自动调节亮度功能后，通过<code>Settings.System.SCREEN_BRIGHTNESS</code>监听获取亮度变化失效，此时无法获取真实亮度，从而导致夜间模式失效。</p>
          
        </div>
        <div class='post-meta'>
          <i class="fa fa-calendar" aria-hidden="true"></i> <time>2018年01月04日</time>
          
            | <i class="fa fa-folder-open-o" aria-hidden="true"></i> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>



          
          
            | 
                <i class="fa fa-tags" aria-hidden="true"></i>
              
             
  <a href="/tags/#踩坑总结" class='tag'>踩坑总结</a>

  <a href="/tags/#自动亮度" class='tag'>自动亮度</a>

  <a href="/tags/#ContentObserver" class='tag'>ContentObserver</a>

  <a href="/tags/#screen_auto_brightness_adj" class='tag'>screen_auto_brightness_adj</a>


          
        </div>
      </section>
    
      <section>
        <a href="/2018/01/04/Android/201801/09_SQLiteOpenHelper_concurrence/">
          <h3 class='post-head'>
            SQLiteOpenHelper并发问题处理
          </h3>
        </a>
        
        <div class="post-content">
          
            <p>这个问题我决定从一个<code>IllegalStateException</code>谈起。<br>当APP跑着跑着，不小心在操作数据库的时候，抛出了以下异常：<br><figure class="highlight java"><table><tr><td class="code"><pre><div class="line">java.lang.IllegalStateException: Cannot perform <span class="keyword">this</span> operation because the connection pool has been closed.</div><div class="line">java.lang.IllegalStateException: attempt to re-open an already-closed object: SQLiteDatabase:</div></pre></td></tr></table></figure></p>
          
        </div>
        <div class='post-meta'>
          <i class="fa fa-calendar" aria-hidden="true"></i> <time>2018年01月04日</time>
          
            | <i class="fa fa-folder-open-o" aria-hidden="true"></i> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>



          
          
            | 
                <i class="fa fa-tags" aria-hidden="true"></i>
              
             
  <a href="/tags/#踩坑总结" class='tag'>踩坑总结</a>

  <a href="/tags/#并发" class='tag'>并发</a>

  <a href="/tags/#SQLiteOpenHelper" class='tag'>SQLiteOpenHelper</a>


          
        </div>
      </section>
    
      <section>
        <a href="/2018/01/04/Android/201801/08_Android_WebViewheight/">
          <h3 class='post-head'>
            Android中对于WebView的高度计算问题
          </h3>
        </a>
        
        <div class="post-content">
          
            <p>前面文章中说到过NestedScrollView中嵌套ViewPager的高度问题，之后的解决方案是通过获取ViewPager中内容的高度，然后设置ViewPager的高度来解决的。<br>那么，如果ViewPager中有一个WebView，这个时候高度计算就有点头疼。<br>至于WebView的高度计算，这里我通过JS方式来实现。<br>
          
        </div>
        <div class='post-meta'>
          <i class="fa fa-calendar" aria-hidden="true"></i> <time>2018年01月04日</time>
          
            | <i class="fa fa-folder-open-o" aria-hidden="true"></i> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>



          
          
            | 
                <i class="fa fa-tags" aria-hidden="true"></i>
              
             
  <a href="/tags/#踩坑总结" class='tag'>踩坑总结</a>

  <a href="/tags/#webview" class='tag'>webview</a>

  <a href="/tags/#高度计算" class='tag'>高度计算</a>


          
        </div>
      </section>
    
      <section>
        <a href="/2018/01/04/Android/201801/07_Android_Studio_logcat/">
          <h3 class='post-head'>
            Android Studio的logcat从窗口模式恢复
          </h3>
        </a>
        
        <div class="post-content">
          
            <p>这是个比较奇怪的问题，困扰了我好几天，因为一次开发过程中手贱。。。。，进行了如下操作：<br><img src="https://raw.githubusercontent.com/KevinWu1993/blogPic/master/image/android_201801_07_1.png" width = "50%" /><br>
          
        </div>
        <div class='post-meta'>
          <i class="fa fa-calendar" aria-hidden="true"></i> <time>2018年01月04日</time>
          
            | <i class="fa fa-folder-open-o" aria-hidden="true"></i> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>



          
          
            | 
                <i class="fa fa-tags" aria-hidden="true"></i>
              
             
  <a href="/tags/#Android Studio" class='tag'>Android Studio</a>

  <a href="/tags/#踩坑总结" class='tag'>踩坑总结</a>

  <a href="/tags/#Logcat" class='tag'>Logcat</a>


          
        </div>
      </section>
    
      <section>
        <a href="/2018/01/04/Android/201801/06_Android_WebViewclearcache/">
          <h3 class='post-head'>
            Android WebView之缓存清理
          </h3>
        </a>
        
        <div class="post-content">
          
            
              
                <p>Android中使用混合模式开发的应用中，H5页面的缓存有时候需要手动强制清理，使用到强制清理的场景有两个：</p>
              
          
        </div>
        <div class='post-meta'>
          <i class="fa fa-calendar" aria-hidden="true"></i> <time>2018年01月04日</time>
          
            | <i class="fa fa-folder-open-o" aria-hidden="true"></i> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>



          
          
            | 
                <i class="fa fa-tags" aria-hidden="true"></i>
              
             
  <a href="/tags/#踩坑总结" class='tag'>踩坑总结</a>

  <a href="/tags/#Android webview" class='tag'>Android webview</a>

  <a href="/tags/#cookie" class='tag'>cookie</a>

  <a href="/tags/#清理缓存" class='tag'>清理缓存</a>


          
        </div>
      </section>
    
      <section>
        <a href="/2018/01/03/essay/201801/goodbye2017andfuck2018/">
          <h3 class='post-head'>
            再见2017，干！2018
          </h3>
        </a>
        
        <div class="post-content">
          
            <p>承支付宝“您”贵言，说要干我，哦不，说我要干！！<br>
          
        </div>
        <div class='post-meta'>
          <i class="fa fa-calendar" aria-hidden="true"></i> <time>2018年01月03日</time>
          
            | <i class="fa fa-folder-open-o" aria-hidden="true"></i> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/一本正经胡说八道/">一本正经胡说八道</a>
  </div>



          
          
            | 
                <i class="fa fa-tag" aria-hidden="true"></i>
              
             
  <a href="/tags/#年终总结" class='tag'>年终总结</a>


          
        </div>
      </section>
    
      <section>
        <a href="/2018/01/03/Android/201801/04_NestedScrollView_with_ViewPager_height/">
          <h3 class='post-head'>
            NestedScrollView嵌套ViewPager高度计算的坑
          </h3>
        </a>
        
        <div class="post-content">
          
            <h2 id="现象描述"><a href="#现象描述" class="headerlink" title="现象描述"></a>现象描述</h2><p>现象1：<br>ViewPager中的内容无法显示，空白一片。<br>现象2：<br>ViewPager中嵌套的ListView显示不全。</p>
          
        </div>
        <div class='post-meta'>
          <i class="fa fa-calendar" aria-hidden="true"></i> <time>2018年01月03日</time>
          
            | <i class="fa fa-folder-open-o" aria-hidden="true"></i> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>



          
          
            | 
                <i class="fa fa-tags" aria-hidden="true"></i>
              
             
  <a href="/tags/#踩坑总结" class='tag'>踩坑总结</a>

  <a href="/tags/#NestedScrollView" class='tag'>NestedScrollView</a>

  <a href="/tags/#ViewPager" class='tag'>ViewPager</a>


          
        </div>
      </section>
    
      <section>
        <a href="/2018/01/03/Android/201801/03_TabLayout_fontsize/">
          <h3 class='post-head'>
            TabLayout的字体大小
          </h3>
        </a>
        
        <div class="post-content">
          
            <h2 id="现象描述"><a href="#现象描述" class="headerlink" title="现象描述"></a>现象描述</h2><p>Tablayout中需要固定大小，不能支持滑动，然后当Tablayout中内容过多时，或者出现<code>AA</code>、<code>BB</code>、<code>CCC</code>、<code>DD</code>这样的四个Tab时，如果字体固定了大小，那么CCC会因为显示空间不足而缩小字体大小，设置的固定字体大小无效，导致TabLayout显示不整齐。</p>
          
        </div>
        <div class='post-meta'>
          <i class="fa fa-calendar" aria-hidden="true"></i> <time>2018年01月03日</time>
          
            | <i class="fa fa-folder-open-o" aria-hidden="true"></i> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>



          
          
            | 
                <i class="fa fa-tags" aria-hidden="true"></i>
              
             
  <a href="/tags/#踩坑总结" class='tag'>踩坑总结</a>

  <a href="/tags/#TabLayout" class='tag'>TabLayout</a>


          
        </div>
      </section>
    
      <section>
        <a href="/2018/01/03/Android/201801/02_SharedPreference_Mutiprocess/">
          <h3 class='post-head'>
            SharedPreference中多进程并发的坑
          </h3>
        </a>
        
        <div class="post-content">
          
            <h2 id="现象描述"><a href="#现象描述" class="headerlink" title="现象描述"></a>现象描述</h2><p>在SharedPreference中记录了一些应用的配置信息，如播放列表，偶尔在快速切换音频时会出现整个SharedPreference文件丢失，所有记录配置信息失效。</p>
          
        </div>
        <div class='post-meta'>
          <i class="fa fa-calendar" aria-hidden="true"></i> <time>2018年01月03日</time>
          
            | <i class="fa fa-folder-open-o" aria-hidden="true"></i> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>



          
          
            | 
                <i class="fa fa-tags" aria-hidden="true"></i>
              
             
  <a href="/tags/#多进程" class='tag'>多进程</a>

  <a href="/tags/#踩坑总结" class='tag'>踩坑总结</a>

  <a href="/tags/#SharedPreference" class='tag'>SharedPreference</a>


          
        </div>
      </section>
    
      <section>
        <a href="/2018/01/03/Android/201801/01_AndroidWebViewMemoryleak/">
          <h3 class='post-head'>
            Android WebView内存泄漏的坑
          </h3>
        </a>
        
        <div class="post-content">
          
            <h2 id="现象描述"><a href="#现象描述" class="headerlink" title="现象描述"></a>现象描述</h2><p>在H5接入一个自动播放声音的页面后，承载H5页面的Activity在finish后声音依旧在后台播放，无法停止，只有结束App进程或者在另外的地方获取系统音频焦点使得webview播放的声音失去音频焦点声音才停止播放。<br>
          
        </div>
        <div class='post-meta'>
          <i class="fa fa-calendar" aria-hidden="true"></i> <time>2018年01月03日</time>
          
            | <i class="fa fa-folder-open-o" aria-hidden="true"></i> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>



          
          
            | 
                <i class="fa fa-tags" aria-hidden="true"></i>
              
             
  <a href="/tags/#踩坑总结" class='tag'>踩坑总结</a>

  <a href="/tags/#Webview" class='tag'>Webview</a>

  <a href="/tags/#内存泄漏" class='tag'>内存泄漏</a>


          
        </div>
      </section>
    
  </div>
  <aside>
    
    <div class="search">
      <div class="content">
        <form action="//www.google.com/search" target="_blank" class="search-form">
          <input type="text" name="q" maxlength="20" placeholder="搜索">
          <input type="hidden" name='sitesearch' value="http://kevinwu.cn">
        </form>
      </div>
    </div>
    
    
      <div class="avatar">
        <img src="http://kevinwu.cn/image/avatar.jpg" alt="avatar">
          
            <div class="content">
                <span>慢几步，深几度</span>
            </div>
          
      </div>
    
    
      <div class="categories">
        <h1>
          文章分类
        </h1>
        <div class="content">
          <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/一本正经胡说八道/">一本正经胡说八道</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/在线刷题/">在线刷题</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/师大-技术说明书/">师大+ 技术说明书</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/师大-辅助文档/">师大+ 辅助文档</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机基础/">计算机基础</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/读书笔记/">读书笔记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/酷玩/">酷玩</a></li></ul>
        </div>
      </div>
    
    
      <div class="links">
        <h1>
          友情链接
        </h1>
        <div class="content">
          
            <a href="http://www.zy.com/" target="_blank">卓越教育</a>
          
            <a href="http://www.fengbee.com/" target="_blank">蜂背科技</a>
          
            <a href="http://www.jxnu.edu.cn/" target="_blank">江西师范大学</a>
          
            <a href="http://ddragonever.com/" target="_blank">刀刀</a>
          
            <a href="http://blog.csdn.net/mummyding" target="_blank">MummyDing</a>
          
            <a href="http://www.jianshu.com/u/593b8b8cdcf3" target="_blank">小木头大马尾</a>
          
        </div>
      </div>
    
  </aside>
</main>

  <div class="paging">
  <div class="paging-container">
    
    <div></div>    
    
    
    <div class='page-next'>
      <a href="/page/2/">下一页</a>
    </div>
    
  </div>
</div>



  <footer>
  <div class="copyright">
    <div>
      &copy; 2018 | Powered by KevinWu&nbsp
    </div>
  </div>
</footer>



</body>
</html>
